---

title: Latent Factors

keywords: fastai
sidebar: home_sidebar

summary: "This module contains the class latent factor. A latent factor is a predictor variable which is uncertain. In this class it is defined by a mean and a variance, although in other settings it can be defined by simulated values. This evaluation is described in Lavine (2020) INSERT LINK HERE."
description: "This module contains the class latent factor. A latent factor is a predictor variable which is uncertain. In this class it is defined by a mean and a variance, although in other settings it can be defined by simulated values. This evaluation is described in Lavine (2020) INSERT LINK HERE."
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/13_latent_factor.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>The autoreload extension is already loaded. To reload it, use:
  %reload_ext autoreload
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Latent-Factor-Class">Latent Factor Class<a class="anchor-link" href="#Latent-Factor-Class"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="latent_factor" class="doc_header"><code>class</code> <code>latent_factor</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L27" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>latent_factor</code>(<strong><code>mean</code></strong>=<em><code>None</code></em>, <strong><code>var</code></strong>=<em><code>None</code></em>, <strong><code>forecast_mean</code></strong>=<em><code>None</code></em>, <strong><code>forecast_var</code></strong>=<em><code>None</code></em>, <strong><code>forecast_cov</code></strong>=<em><code>None</code></em>, <strong><code>dates</code></strong>=<em><code>None</code></em>, <strong><code>forecast_dates</code></strong>=<em><code>None</code></em>, <strong><code>gen_fxn</code></strong>=<em><code>None</code></em>, <strong><code>gen_forecast_fxn</code></strong>=<em><code>None</code></em>, <strong><code>forecast_path</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Multiple-latent-factor-class">Multiple latent factor class<a class="anchor-link" href="#Multiple-latent-factor-class"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="multi_latent_factor" class="doc_header"><code>class</code> <code>multi_latent_factor</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L129" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>multi_latent_factor</code>(<strong><code>latent_factors</code></strong>) :: <a href="/pybats_nbdev/latent_factor"><code>latent_factor</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Common-Latent-Factors">Common Latent Factors<a class="anchor-link" href="#Common-Latent-Factors"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Holiday-latent-factor">Holiday latent factor<a class="anchor-link" href="#Holiday-latent-factor"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="hol_fxn" class="doc_header"><code>hol_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L267" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>hol_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong><code>X</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="hol_forecast_fxn" class="doc_header"><code>hol_forecast_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L279" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>hol_forecast_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong><code>X</code></strong>, <strong><code>k</code></strong>, <strong><code>horizons</code></strong>, <strong><code>forecast_path</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:5: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  &#34;&#34;&#34;
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:6: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:7: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  import sys
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:8: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:9: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  if __name__ == &#39;__main__&#39;:
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Y-(outcome)-latent-factor">Y (outcome) latent factor<a class="anchor-link" href="#Y-(outcome)-latent-factor"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Y_fxn" class="doc_header"><code>Y_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L317" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Y_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong><code>Y</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Y_forecast_fxn" class="doc_header"><code>Y_forecast_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L321" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Y_forecast_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong><code>X</code></strong>, <strong><code>k</code></strong>, <strong><code>nsamps</code></strong>, <strong><code>horizons</code></strong>, <strong><code>forecast_path</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:5: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  &#34;&#34;&#34;
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:6: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:7: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  import sys
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:8: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:9: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  if __name__ == &#39;__main__&#39;:
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Weekly-seasonal-latent-factor">Weekly seasonal latent factor<a class="anchor-link" href="#Weekly-seasonal-latent-factor"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="seas_weekly_fxn" class="doc_header"><code>seas_weekly_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L366" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>seas_weekly_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="seas_weekly_forecast_fxn" class="doc_header"><code>seas_weekly_forecast_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L379" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>seas_weekly_forecast_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong><code>k</code></strong>, <strong><code>horizons</code></strong>, <strong><code>forecast_path</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:5: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  &#34;&#34;&#34;
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:6: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:7: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  import sys
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:8: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:9: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  if __name__ == &#39;__main__&#39;:
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Poisson-DGLM-Coefficient">Poisson DGLM Coefficient<a class="anchor-link" href="#Poisson-DGLM-Coefficient"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="pois_coef_fxn" class="doc_header"><code>pois_coef_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L409" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>pois_coef_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong><code>idx</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="pois_coef_forecast_fxn" class="doc_header"><code>pois_coef_forecast_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L422" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>pois_coef_forecast_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong><code>k</code></strong>, <strong><code>idx</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:5: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  &#34;&#34;&#34;
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:6: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:7: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  import sys
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:8: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:9: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  if __name__ == &#39;__main__&#39;:
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Bernoulli-DGLM-Coefficient">Bernoulli DGLM Coefficient<a class="anchor-link" href="#Bernoulli-DGLM-Coefficient"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="bern_coef_fxn" class="doc_header"><code>bern_coef_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L450" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>bern_coef_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong><code>idx</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="bern_coef_forecast_fxn" class="doc_header"><code>bern_coef_forecast_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L463" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>bern_coef_forecast_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong><code>k</code></strong>, <strong><code>idx</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:5: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  &#34;&#34;&#34;
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:6: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:7: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  import sys
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:8: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:9: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  if __name__ == &#39;__main__&#39;:
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Normal-DLM-Coefficient">Normal DLM Coefficient<a class="anchor-link" href="#Normal-DLM-Coefficient"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dlm_coef_fxn" class="doc_header"><code>dlm_coef_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L492" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dlm_coef_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong><code>idx</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dlm_coef_forecast_fxn" class="doc_header"><code>dlm_coef_forecast_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L499" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dlm_coef_forecast_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong><code>k</code></strong>, <strong><code>idx</code></strong>=<em><code>None</code></em>, <strong><code>forecast_path</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:5: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  &#34;&#34;&#34;
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:6: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:7: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  import sys
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:8: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:9: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  if __name__ == &#39;__main__&#39;:
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Normal-DLM-degrees-of-freedom">Normal DLM degrees of freedom<a class="anchor-link" href="#Normal-DLM-degrees-of-freedom"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dlm_dof_fxn" class="doc_header"><code>dlm_dof_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L529" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dlm_dof_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dlm_dof_forecast_fxn" class="doc_header"><code>dlm_dof_forecast_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L533" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dlm_dof_forecast_fxn</code>(<strong><code>date</code></strong>, <strong><code>mod</code></strong>, <strong><code>k</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:5: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  &#34;&#34;&#34;
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:6: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:7: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  import sys
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:8: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  
/Users/isaaclavine/opt/anaconda3/envs/pybats/lib/python3.7/site-packages/ipykernel_launcher.py:9: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.
  if __name__ == &#39;__main__&#39;:
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Helper-Functions">Helper Functions<a class="anchor-link" href="#Helper-Functions"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="merge_fxn" class="doc_header"><code>merge_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L555" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>merge_fxn</code>(<strong><code>date</code></strong>, <strong><code>latent_factors</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="merge_forecast_fxn" class="doc_header"><code>merge_forecast_fxn</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L571" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>merge_forecast_fxn</code>(<strong><code>date</code></strong>, <strong><code>latent_factors</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="merge_latent_factors" class="doc_header"><code>merge_latent_factors</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L596" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>merge_latent_factors</code>(<strong><code>latent_factors</code></strong>)</p>
</blockquote>
<p>:param latent_factors: list of the same latent factor from different sources to be combined into 1 using precision weighted averaging
:return: A single latent factor</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="merge_lf_with_predictor" class="doc_header"><code>merge_lf_with_predictor</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L627" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>merge_lf_with_predictor</code>(<strong><code>latent_factor</code></strong>, <strong><code>X</code></strong>, <strong><code>X_dates</code></strong>)</p>
</blockquote>
<p>Function to modify a latent factor by multiplying it by a known predictor. Example of latent factor is
 the coefficient on effect of price from an external model, while the price itself is a known predictor.</p>
<p>:param X: A known predictor
:param X_dates: Dates associated with the known predictor
:return:</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="pct_chg_from_lf_avg" class="doc_header"><code>pct_chg_from_lf_avg</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L712" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>pct_chg_from_lf_avg</code>(<strong><code>latent_factor</code></strong>, <strong><code>window</code></strong>=<em><code>10</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="load_latent_factor" class="doc_header"><code>load_latent_factor</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L746" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>load_latent_factor</code>(<strong><code>filename</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="forecast_holiday_effect_dlm" class="doc_header"><code>forecast_holiday_effect_dlm</code><a href="https://github.com/lavinei/pybats_nbdev/tree/master/pybats_nbdev/latent_factor.py#L751" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>forecast_holiday_effect_dlm</code>(<strong><code>mod</code></strong>, <strong><code>X</code></strong>, <strong><code>k</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

